import{r as c,j as a,d as i}from"./app-BsI9bp-a.js";import{I as u,T as x,a as f}from"./TextInput-BGCxCczN.js";function I({value:o,onChange:r,error:n,setToken:m}){const[p,l]=c.useState(""),h=()=>Math.random().toString(36).substr(2),s=()=>{const e=h();m(e),i.post("/api/captcha",{token:e}).then(t=>{l(t.data.data.captcha)}).catch(t=>{console.error("获取验证码失败",t)})};return c.useEffect(()=>{s()},[]),a.jsxs("div",{className:"mt-4",children:[a.jsx(u,{htmlFor:"captcha",value:"验证码"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(x,{id:"captcha",name:"captcha",value:o,className:"mt-1 block w-full",autoComplete:"off",onChange:r}),a.jsx("img",{src:p,onClick:s,className:"ms-2 cursor-pointer",alt:"点击刷新验证码"})]}),a.jsx(f,{message:n,className:"mt-2"})]})}export{I as C};
